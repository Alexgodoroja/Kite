{% extends 'base_content.html' %}
{% block title %}
    Profile Page
{% endblock title %}
{% block content %}
    {% if form.errors %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <div id="form_errors">
                {% for key, value in form.errors.items %}<strong>Error:</strong>{{ value }}{% endfor %}
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endif %}
    <div class="form-content col-md-8 col-md-offset-4">
        <h2 class="my-4">Profile page</h2>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-row">
                <div class="col-md-5">
                    <div class="form-group">
                        <label class="small mb-1">First name:</label>
                        {{ form.first_name }}
                    </br>
                    <label class="small mb-1 my-4">Last name:</label>
                    {{ form.last_name }}
                </br>
                <label class="small mb-1 my-4">Username:</label>
                {{ form.username }}
            </br>
            <label class="small mb-1 my-4">Email:</label>
            {{ form.email }}
        </br>
    </div>
    <div class="form-group">
        <!-- Button trigger Modal -->
        <button type="button"
                href="{% url 'change_password' %}"
                class="btn btn-primary btn-lg"
                data-toggle="modal"
                data-target="#ChangePassModal">
            Change Password
        </button>
        <!-- Change Password Modal -->
        <div class="modal fade"
             id="ChangePassModal"
             tabindex="-1"
             role="dialog"
             aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Change password</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">{% include 'change_password.html' %}</div>
                </div>
            </div>
        </div>
        <hr>
    </div>
    <label class="small mb-1">Bio:</label>
    {{ form.bio }}
</div>
</div>
<br>
<button type="submit" class="btn btn-dark btn-lg">Save Changes</button>
<button type="reset" class="btn btn-dark btn-lg">Reset</button>
</form>
<br>
<br>
</div>
{% endblock content %}
